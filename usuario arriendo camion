--MASTER-- 
--USUARIO 1
ALTER SESSION SET "_ORACLE_SCRIPT"=true;
-- USER SQL
CREATE USER US_UNO IDENTIFIED BY US_UNO
DEFAULT TABLESPACE "USERS"
TEMPORARY TABLESPACE "TEMP";

ALTER USER US_UNO QUOTA UNLIMITED ON USERS;
--PERMISOS PARA QUE USUARIO 1 PUEDA CREAR: tablas, sinonimos publicos y privatos y crear secuencias, ademas de poder crear conexion
GRANT CREATE SESSION TO US_UNO;
GRANT CREATE TABLE TO US_UNO;
GRANT CREATE SYNONYM TO US_UNO;
GRANT CREATE PUBLIC SYNONYM TO US_UNO;
GRANT CREATE SEQUENCE TO US_UNO;


--USUARIO 2
ALTER SESSION SET "_ORACLE_SCRIPT"=true;
-- USER SQL
CREATE USER US_DOS IDENTIFIED BY US_DOS
DEFAULT TABLESPACE "USERS"
TEMPORARY TABLESPACE "TEMP";

ALTER USER US_DOS QUOTA UNLIMITED ON USERS;
GRANT CREATE SESSION TO US_DOS
--PERMISOS PARA QUE USUARIO 2 TENGA ACCESO A LOS SINONIMOS
GRANT SELECT ON syn_cliente TO US_DOS;
GRANT SELECT ON syn_camion TO US_DOS;
GRANT SELECT ON US_UNO.syn_comuna TO US_DOS;
GRANT CREATE VIEW TO US_DOS;
--CREAR ROL
CREATE ROLE rol_optimizador;

--CREAR TRIGGER PARA ROL
GRANT CREATE TRIGGER TO rol_optimizador;

--CREAR INDICES ANASHE
GRANT CREATE ANY INDEX TO rol_optimizador;

--ASIGNAR ROL A USUARIO 1
GRANT rol_optimizador TO US_UNO;
ALTER USER US_UNO DEFAULT ROLE "ROL_OPTIMIZADOR";







